# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

```
 - Электронные чеки в json виде: предлагается использовать документоориентированную базу 
NoSQL, такая предназначена для хранения иерархических структур данных (документов),
   выборка по запросу к документному хранилищу может содержать части большого количества документов
-  Склады и автомобильные дороги для логистической компании: предлагаю использовать
сетевую СУБД. Логистические связи удобно чисто логически организовывать в узлы и 
   связи между ними. Узел — это совокупность атрибутов данных, 
   описывающих некоторый объект. На схеме иерархического дерева узлы 
   представляются вершинами графа. В сетевой структуре каждый элемент может 
   быть связан с любым другим элементом. Еще один вариант - использование реляционной 
   СУБД, через описание объектов в двух таблицах и таблице связей.
-  Генеалогические деревья: наиболее интуитивно использование иерархической СУБД. 
это модель данных, где используется представление базы данных в виде древовидной 
   (иерархической) структуры, состоящей из объектов (данных) различных уровней.
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутентификации:
предлагается СУБД типа ключ-значение, в которых данные представлены как хэш-таблицы.
Ключ используется для доступа к значению.
-   Отношения клиент-покупка для интернет-магазина: предлагается использовать 
реляционную СУБД. Данные и связи между данными организованы с помощью таблиц. 
    Данные между клиентом и покупками ассоциируются с помощью ключа id клиента.
```


## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

```
- Данные записываются на все узлы с задержкой до часа (асинхронная запись): AP
- При сетевых сбоях, система может разделиться на 2 раздельных кластера: AP
Верно, возможны ли и другие варианты?
CP
- Система может не прислать корректный ответ или сбросить соединение: теряется
Availability. CP 
  
  

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

- Данные записываются на все узлы с задержкой до часа (асинхронная запись): EL-PA
- При сетевых сбоях, система может разделиться на 2 раздельных кластера: PA-EL,PC-EL
- Система может не прислать корректный ответ или сбросить соединение: теряется
Availability. CP-EC

```

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

```
Нет, поскольку принцип BASE постулирует, что в ответе системы при деградации могут 
быть неверные данные. Принцип ACID подразумевает только допустимые результаты.
```

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

```
Это Redis. Поддерживает Time-To-Live для данных. Имеется встроенная система
Pub/Sub. Pub/SUb - это база данных в оперативной памяти с дополнительной 
отказоустойчивостью. Redis поддерживает транзакции, позволяющие выполнить 
за один шаг группу команд, гарантируя непротиворечивость и последовательность 
(команды от других запросов не могут вклиниться) выполнения заданного 
набора команд, а в случае проблем позволяя откатить изменения. Все 
данные в полном объёме кэшируются в оперативной памяти.
Минусы- трудности с тестирование механизма pub/sub, возникает проблема контроля 
за внезапным увеличением сообщений. Нужен достаточный объем оперативной памяти.
Отказ сервера может означать потерю данных.
```
---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.